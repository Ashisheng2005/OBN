# AiNet基于ospf和gbp的网络数据实现自决策

1. 安装第三方库

```bash
pip install -r requirements.txt
```



2. 已经训练好的模型文件

   分类模型：

   ```bash
   .\model\best_path_classification_model.weights.h5
   ```

   

   回归模型：

   ```bash
.\model\best_path_regression_model.weights.h5
   ```
   
   模型训练的结果在./chart目录中查看



## 训练模型

训练模型的文件为

```bash
.\Training_model.py
```

训练中的数据默认全部为模拟数据，如果你需要根据真实数据训练，可以对文件中21行如下设置：

```python
    def main(self):
        training_data = Collect_network_data(mode="real").main()	# 设置mode为真实
        ...
```

当设置模式为真实后，会启动脚本自动连接交换机，所以你需要正确配置链接信息：

```json
# ./config.json
"real": {
        "device": [
            {
                "device_type": "cisco_ios",
                "host": "192.168.1.1",
                "username": "admin",
                "password": "password"
            },
            {
                "device_type": "huawei",
                "host": "router2",
                "username": "admin",
                "password": "password"
            }
        ],
    	......
    },

```

device中的每个值都是一台设备的配置，支持多设备批量获取。





# 更新内容



## 2024.4.13

分类模型问题：

**过拟合**：在小数据集上，模型可能记住训练数据，导致高准确率，但在大数据集上泛化能力下降。

**模型复杂度不足**：如果模型结构较简单（如浅层神经网络），可能无法捕捉大数据集的复杂模式。

**数据质量或分布问题**：大数据集可能引入噪声或类别不平衡，导致准确率下降。

**超参数未优化**：学习率、批量大小、优化器等可能未针对不同数据量和Epoch进行调整。



回归模型问题：

**回归任务的损失函数**：回归模型的“准确率”可能不是最佳评估指标，均方误差（MSE）或平均绝对误差（MAE）可能更能反映模型性能。

**过拟合**：与分类模型类似，小数据集高准确率可能源于过拟合。

**特征选择或预处理不足**：回归任务对特征的缩放和分布敏感，可能需要更强的特征工程。

**模型容量不足**：回归任务可能需要更深的网络或更复杂的模型（如树模型或集成模型）。



解决方法：

**正则化**：在模型中加入Dropout、L2正则化或者Batch Normalization

**早停机制**：监控验证集损失，当验证损失不在下降时停止训练

**数据增强**：增加模拟数据的变化，引入多个网络质量指标，动态模拟网络状态。增加训练数据的多样性，减少过拟合。

**增加模型深度或宽度**：根据训练数据体量动态调配神经网络层和隐藏单元层

**尝试其他模型**：对于分类任务，可以尝试随机森林或XGBoost；对于回归任务，可以尝试梯度提升树。（暂留后续投票机制中使用）

**检查数据分布**：确保训练集和测试集分布一致，检查是否存在类别不平很或异常值

**特征工程**：对回归任务，确保特征标准化，对分类任务，检查特征重要性



